\documentclass[
  abstract=on,
  BCOR=6mm,
  bibliography=totoc,
  listof=totoc,
  headsepline=on,
  numbers=noenddot,
  paper=a4,
  parskip=on,
  % toc=chapterentrydotfill,
  twoside=off,
  DIV=10,
  ngerman
]{scrreprt}

\title{Statische Typsysteme für JavaScript}
\subtitle{Entwicklung eines Transpilers von Flow nach TypeScript}
\date{\today}
\author{Jonathan Gruber}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% "Fix" for KOMA script warning about floats
\usepackage{scrhack}

% Babel
\usepackage[ngerman]{babel}

% Fonts
\usepackage[tt=false]{libertine}
\usepackage[scale=0.85,lining]{FiraMono}

% Set headings in serif as well
\addtokomafont{disposition}{\rmfamily}

% Math
\usepackage[libertine]{newtxmath}

% Orphans
\usepackage[all]{nowidow}

% Biber (references)
\usepackage[
  backend=biber,
  backref=true,
  backrefstyle=three+,
  sortlocale=de_DE
]{biblatex}
\addbibresource{src/references.bib}

\DefineBibliographyStrings{german}{
  references = {Quellenverzeichnis}
}

% Use the main font for URLs
\urlstyle{same}

% Endnotes
\usepackage[
  backref=true,
  counter-format=roman,
  totoc=chapter,
]{enotez}

% Use a 1.5 line-height
\usepackage[onehalfspacing]{setspace}

% Header
\usepackage[
  automark,
  autooneside=false
]{scrlayer-scrpage}
\chead{}
\ihead{\leftmark}
\ohead{\rightmark}

% Remove chapter number
\renewcommand\chaptermarkformat{}

% Small captions
\usepackage[font=small]{caption}
\captionsetup{
  justification=raggedright,
  singlelinecheck=false
}

% Better spacing in lists
\usepackage{enumitem}
\setlist{nosep}

% Images
\usepackage{graphicx}

% Tables
\usepackage{tabularx, booktabs}
\renewcommand{\arraystretch}{1.2} % More space between table rows

% Code listings (minted)
\newcommand{\code}[1]{\small\texttt{#1}}
\usepackage[outputdir=build]{minted}
\usemintedstyle{bw}
\newminted{js}{fontsize=\footnotesize,tabsize=4}
\newminted{ts}{fontsize=\footnotesize,tabsize=4}
\renewcommand\listingscaption{Quelltext}
\renewcommand\listoflistingscaption{Quelltextverzeichnis}

% Quotes
\usepackage{csquotes}

% Strike through
\usepackage[normalem]{ulem}

% Hyphenation rules
\hyphenation{JavaScript}
\hyphenation{Python}
\hyphenation{Ruby}
\hyphenation{TypeScript}
\babelhyphenation[ngerman]{Be-sucher-Ent-wurfs-musters}

% Orphans
\usepackage[all]{nowidow}

% Document links
% Should be loaded last!
\usepackage[pdfencoding=auto]{hyperref}
\hypersetup{
  hidelinks,
  pdftitle={Statische Typsysteme für JavaScript -- Entwicklung eines Transpilers von Flow nach TypeScript -- Jonathan Gruber},
  pdfauthor={Jonathan Gruber}
}

% ----------

\begin{document}
	% Numbering is invisible, but required for hyperref package
  \pagestyle{empty}
  \pagenumbering{Roman}

  \input{src/Title/index}
  \input{src/Abstract/index}

  {
    % Apply empty page style to multiple pages
    \renewcommand{\thispagestyle}[1]{}
    \setcounter{tocdepth}{2}
    \tableofcontents
  }

  % ------------------------------

  \clearpage
  \pagestyle{headings}
  \pagenumbering{arabic}

  \input{src/1_Motivation/index}
  \input{src/2_Grundlagen/index}
  \input{src/3_Analyse/index}
  \input{src/4_Umsetzung/index}
  \input{src/5_Durchfuehrung/index}
  \input{src/6_Auswertung/index}
  \input{src/7_Fazit/index}

  % ------------------------------

  \clearpage
  \pagestyle{plain}
  \pagenumbering{Roman}

  % Smaller URLs
  \renewcommand{\UrlFont}{\small}


  \printbibliography[
    title={Literatur},
    notkeyword=software
  ]

  \printbibliography[
    title={Software},
    keyword=software,
    heading=subbibliography
  ]

  \listoffigures
  \listoftables
  \listoflistings
  \printendnotes

  \input{src/Appendix/declaration.tex}

  \appendix
  \input{src/Appendix/index.tex}
\end{document}
