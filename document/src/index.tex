\documentclass[
  abstract=on,
  BCOR=6mm,
  bibliography=totoc,
  listof=totoc,
  headsepline=on,
  numbers=noenddot,
  paper=a4,
  parskip=on,
  toc=chapterentrydotfill,
  twoside=off
  % DIV=10,
  % fontsize=10,
]{scrreprt}

\title{Statische Typsysteme in JavaScript}
\subtitle{Entwicklung eines Transpilers von Flow nach TypeScript}
\date{\today}
\author{Jonathan Gruber}

% "Fix" for KOMA script warning about floats
\usepackage{scrhack}

% Babel
\usepackage[ngerman]{babel}

% Font
\usepackage{fontspec}
\usepackage[tt=false]{libertine}

% Set headings in serif as well
\addtokomafont{disposition}{\rmfamily}

% Math
\usepackage{amsmath}
\usepackage{unicode-math}
\setmathfont[Scale=MatchUppercase]{Libertinus Math}

\usepackage{amsmath}

% Monospaced font (Code)
\setmonofont{Roboto Mono}[Scale=MatchLowercase]

% Biber (references)
\usepackage[
  backend=biber,
  backref=true,
  backrefstyle=three+,
  sortlocale=de_DE
]{biblatex}
\addbibresource{src/references.bib}

\DefineBibliographyStrings{german}{
    references = {Quellenverzeichnis}
}

% Document links
\usepackage[pdfencoding=auto]{hyperref}
\hypersetup{
    hidelinks,
    pdftitle={Masterarbeit WIP -- Jonathan Gruber},
    pdfauthor={Jonathan Gruber}
}

% Use a 1.5 line-height
\usepackage[onehalfspacing]{setspace}

% Header
\usepackage[
  automark,
  autooneside=false
]{scrlayer-scrpage}
\chead{}
\ihead{\leftmark}
\ohead{\rightmark}
\renewcommand\chaptermarkformat{} % Remove chapter number

% Small captions
\usepackage[font=small]{caption}
\captionsetup{justification=raggedright,singlelinecheck=false}

% Better spacing in lists
\usepackage{enumitem}
\setlist{nosep}

% Images
\usepackage{graphicx}

% Tables
\usepackage{ltablex, booktabs}

% Code listings (minted)
\newcommand{\code}[1]{\small\texttt{#1}}
\usepackage[outputdir=build]{minted}
\usemintedstyle{algol_nu}
\newminted{js}{fontsize=\footnotesize,tabsize=4}
\newminted{ts}{fontsize=\footnotesize,tabsize=4}
\renewcommand\listingscaption{Quellcode}
\renewcommand\listoflistingscaption{Quellcode-Listings}
\setmonofont{Roboto Mono}[
  Scale=MatchLowercase
]

% Quotes
\usepackage{csquotes}

% ----------

\begin{document}
  \pagenumbering{Roman}

  \input{src/title}

  \tableofcontents

  \pagestyle{headings}
  \pagenumbering{arabic}

  \input{src/1_Motivation/index}
  \input{src/2_Grundlagen/index}
  \input{src/3_Analyse/index}
  \input{src/4_Prototyp/index}
  \input{src/5_Ergebnisse/index}

  \clearpage
  \pagenumbering{Roman}

  \renewcommand{\UrlFont}{\small}

  \pagestyle{plain}

  \printbibliography[
    title={Literatur},
    nottype=online,
    notkeyword=software
  ]

  \printbibliography[
    title={Online-Quellen},
    type=online,
    notkeyword=software,
    heading=subbibliography
  ]

  \printbibliography[
    title={Software},
    keyword=software,
    heading=subbibliography
  ]

  \listoffigures{}
  \listoftables{}
  \listoflistings{}

  \input{src/Appendix/declaration.tex}

  \begin{appendix}
    \input{src/Appendix/index.tex}
  \end{appendix}
\end{document}
